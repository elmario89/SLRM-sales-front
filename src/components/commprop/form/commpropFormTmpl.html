
<div class="form-group">
  <label for="entityForm.clientId">Клиент</label>
  <ui-select ng-model="entity.client"
             theme="bootstrap"
             ng-disabled="disabled"
             reset-search-input="false">
    <ui-select-match placeholder="Клиент...">{{$select.selected.first_name}} {{$select.selected.middle_name}} {{$select.selected.last_name}}</ui-select-match>
    <ui-select-choices repeat="client in clients"
             refresh="refreshClients($select.search)"
             refresh-delay="0">
      <div ng-bind-html="client.first_name + ' ' + client.middle_name + ' ' + client.last_name | highlight: $select.search"></div>
    </ui-select-choices>
  </ui-select>
</div>

<div class="form-group">
  <label for="entityForm.brokerId">Дизайнер</label>
  <ui-select ng-model="entity.broker"
             theme="bootstrap"
             ng-disabled="disabled"
             reset-search-input="false">
    <ui-select-match placeholder="Дизайнер...">
      {{$select.selected.first_name}} {{$select.selected.last_name}}
      {{$select.selected.organization_name}} {{$select.selected.legal_name}}
    </ui-select-match>
    <ui-select-choices repeat="broker in brokers"
             refresh="refreshBrokers($select.search)"
             refresh-delay="0">
      <div ng-if="broker.type === 'natural'" ng-bind-html="broker.first_name + ' ' + broker.middle_name + ' ' + broker.last_name | highlight: $select.search"></div>
      <div ng-if="broker.type === 'legal'" ng-bind-html="broker.organization_name + ' ' + broker.legal_name | highlight: $select.search"></div>
    </ui-select-choices>
  </ui-select>
</div>

<div class="form-group">
  <label for="entityForm.alert_date">Звонок клиенту</label>
  <div class='input-group date'>
    <input type='text' class="form-control" datetimepicker format="MMMM DD, YYYY" ng-model="entity.alert_date" />
    <span class="input-group-addon">
      <span class="glyphicon glyphicon-calendar"></span>
    </span>
  </div>
</div>

<div class="form-group">
  <label for="entityForm.sent_date">Дата отправки КП</label>
  <div class='input-group date'>
    <input type='text' class="form-control" datetimepicker format="MMMM DD, YYYY" ng-model="entity.sent_date" />
    <span class="input-group-addon">
      <span class="glyphicon glyphicon-calendar"></span>
    </span>
  </div>
</div>

<div class="form-group">
  <label for="entityForm.comments">Коментарии</label>
  <input type="text" class="form-control" id="entityForm.comments" placeholder="Коментарии" ng-model="entity.comments">
</div>

<div class="form-group" ng-if="entity.id">
  <label for="entityForm.status">Статус</label>
  <select id="entityForm.status" ng-model="entity.status" class="form-control" ng-options="value.type as value.text for value in statusTypes" placeholder="Статус"></select>
</div>
